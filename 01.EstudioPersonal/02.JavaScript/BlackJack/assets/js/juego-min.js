(e=>{"use strict";let l=[],t=["C","D","H","S"],r=["A","J","Q","K"],s=0,a=0,n=[],d=document.querySelector("#btnNuevo"),o=document.querySelector("#btnPedir"),i=document.querySelector("#btnDetener"),c=document.querySelector("#etiquetaJ1"),$=document.querySelector("#etiquetaIA"),g=document.querySelectorAll("small"),u=document.querySelectorAll(".divCartas"),h=()=>{y(),b(1)},b=(e=1)=>{for(let l=0;l<=e;l++)n[l]=0},y=()=>{l=[];for(let e=2;e<=10;e++)for(let s of t)l.push(`${e}${s}`);for(let a of t)for(let n of r)l.push(`${n}${a}`);l=_.shuffle(l)},f=()=>0===l.length?"Ya no hay cartas":l.pop(),A=e=>{let l=e.substring(0,e.length-1);return"A"===l?11:isNaN(l)?10:1*l},p=(e,l)=>(console.log(e,l),n[l]=n[l]+1*A(e),console.log(n[l]),g[l].innerText=n[l],n[l]),q=e=>{a++,u[u.length-1].innerHTML="";do{let l=f();p(l,n.length-1),m(l,n.length-1),5===a&&(S("IA"),o.disabled=!0,i.disabled=!0)}while(n[u.length-1]<=e&&e<=21);setTimeout(()=>{let l=n[u.length-1]===e?"":e>21?"IA":n[u.length-1]>21?"Jugador":n[u.length-1]<=21&&e>21?"IA":e<=21&&n[u.length-1]<=21?n[u.length-1]>e?"IA":"Jugador":"";S(l)},50)},S=(e="")=>{""!=e?"IA"===e?(c.style.color="red",$.style.color="green"):(c.style.color="green",$.style.color="red"):alert("Esto es un empate")},T=()=>{i.disabled=!1,o.disabled=!1;let e;for(let l=0;l<=u.length-1;l++)e=l%2==0?"red_back":"grey_back",g[l].innerText=0,u[l].innerHTML=`<img class="carta" src="assets/cartas/${e}.png" alt="">`;c.style.color="white",$.style.color="white",h(),s=0,a=0},m=(e,l)=>{let t=document.createElement("img");t.className="carta",t.src=`assets/cartas/${e}.png`,"0"===g[l].innerText&&(u[l].innerHTML=""),u[l].append(t)};h(),o.addEventListener("click",()=>{s++,console.log(g[0].innerText);let e=f();m(e,0);let l=p(e,0);console.log(l),l>21?(o.disabled=!0,i.disabled=!0,q(l)):21===l?(o.disabled=!0,i.disabled=!0,q(l)):5===s&&(S("Jugador"),o.disabled=!0,i.disabled=!0)}),i.addEventListener("click",()=>{i.disabled=!0,o.disabled=!0,q(n[0])}),d.addEventListener("click",()=>{T()})})();